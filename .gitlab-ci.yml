image:  mcr.microsoft.com/dotnet/core/sdk:3.1

stages:
    - build

before_script:
    - "dotnet restore ./IrrationalEngine/IeUtils/IeUtils.csproj -v n"
    - "dotnet restore ./IrrationalEngine/IeCoreEntites/IeCoreEntites.csproj -v n"
    - "dotnet restore ./IrrationalEngine/IeCoreInterfaces/IeCoreInterfaces.csproj -v n"
    - "dotnet restore ./IrrationalEngine/IeCoreOpengl/IeCoreOpengl.csproj -v n"
    - "dotnet restore ./IrrationalEngine/IeCore/IeCore.csproj -v n"
   
build:
    stage: build
    script:
        - "dotnet build ./IrrationalEngine/IeCore/IeCore.csproj -c Release -v n" 

artifacts:
    - "./IrrationalEngine/IeCore/bin/Release/netcoreapp3.1/*"
    expire_in: 1 month